"use strict";(self.webpackChunktemp=self.webpackChunktemp||[]).push([[9778],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>c});var l=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,l,i=function(e,t){if(null==e)return{};var n,l,i={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var m=l.createContext({}),p=function(e){var t=l.useContext(m),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=p(e.components);return l.createElement(m.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},k=l.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,m=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),k=p(n),c=i,N=k["".concat(m,".").concat(c)]||k[c]||d[c]||a;return n?l.createElement(N,r(r({ref:t},s),{},{components:n})):l.createElement(N,r({ref:t},s))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=k;var o={};for(var m in t)hasOwnProperty.call(t,m)&&(o[m]=t[m]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var p=2;p<a;p++)r[p]=n[p];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}k.displayName="MDXCreateElement"},2232:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(7294);const i="codeDescription_fg9D",a="codeDescriptionBody_Gp1s";function r(e){let{children:t,minHeight:n}=e;return l.createElement("div",{className:i,style:{minHeight:n}},l.createElement("div",{className:a},t))}},1287:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>k,frontMatter:()=>r,metadata:()=>m,toc:()=>s});var l=n(7462),i=(n(7294),n(3905)),a=n(2232);const r={sidebar_position:1,description:"\ud83d\udccc docker compose \ub97c \uc774\uc6a9\ud574 \uc2e4\uc81c \uc11c\ube44\uc2a4 \ud658\uacbd\uacfc \ube44\uc2b7\ud55c \ud615\ud0dc\ub85c mlflow \uc11c\ubc84\ub97c \ub744\uc6cc\ubd05\ub2c8\ub2e4."},o="1) MLflow Setup",m={unversionedId:"model-registry/mlflow-setup",id:"model-registry/mlflow-setup",title:"1) MLflow Setup",description:"\ud83d\udccc docker compose \ub97c \uc774\uc6a9\ud574 \uc2e4\uc81c \uc11c\ube44\uc2a4 \ud658\uacbd\uacfc \ube44\uc2b7\ud55c \ud615\ud0dc\ub85c mlflow \uc11c\ubc84\ub97c \ub744\uc6cc\ubd05\ub2c8\ub2e4.",source:"@site/docs/model-registry/mlflow-setup.mdx",sourceDirName:"model-registry",slug:"/model-registry/mlflow-setup",permalink:"/tutorial/docs/model-registry/mlflow-setup",draft:!1,editUrl:"https://github.com/mlops-for-mle/tutorial/tree/main/docs/model-registry/mlflow-setup.mdx",tags:[],version:"current",lastUpdatedBy:"Aiden-Jeon",lastUpdatedAt:1670752056,formattedLastUpdatedAt:"Dec 11, 2022",sidebarPosition:1,frontMatter:{sidebar_position:1,description:"\ud83d\udccc docker compose \ub97c \uc774\uc6a9\ud574 \uc2e4\uc81c \uc11c\ube44\uc2a4 \ud658\uacbd\uacfc \ube44\uc2b7\ud55c \ud615\ud0dc\ub85c mlflow \uc11c\ubc84\ub97c \ub744\uc6cc\ubd05\ub2c8\ub2e4."},sidebar:"tutorialSidebar",previous:{title:"0) Overview",permalink:"/tutorial/docs/model-registry/overview"},next:{title:"2) Save Model to Registry",permalink:"/tutorial/docs/model-registry/save-model-to-registry"}},p={},s=[{value:"\ubaa9\ud45c",id:"\ubaa9\ud45c",level:2},{value:"\uc2a4\ud399 \uba85\uc138\uc11c",id:"\uc2a4\ud399-\uba85\uc138\uc11c",level:2},{value:"1. Mlflow Backend Store",id:"1-mlflow-backend-store",level:2},{value:"1.1 Backend Store",id:"11-backend-store",level:3},{value:"1.2 Postgres Server docker-compose",id:"12-postgres-server-docker-compose",level:3},{value:"2. Mlflow Artifact Store",id:"2-mlflow-artifact-store",level:2},{value:"2.1 Artifact Store",id:"21-artifact-store",level:3},{value:"2.2 Why MinIO?",id:"22-why-minio",level:3},{value:"2.3 MinIO Server docker-compose",id:"23-minio-server-docker-compose",level:3},{value:"3. MLflow server",id:"3-mlflow-server",level:2},{value:"3.1 Dockerfile",id:"31-dockerfile",level:3},{value:"3.2 MLflow Server docker-compose",id:"32-mlflow-server-docker-compose",level:3},{value:"4. docker compose\ub97c \ud65c\uc6a9\ud574 \uc11c\ube44\uc2a4 \ub744\uc6b0\uae30",id:"4-docker-compose\ub97c-\ud65c\uc6a9\ud574-\uc11c\ube44\uc2a4-\ub744\uc6b0\uae30",level:2},{value:"4.1 <code>Dockerfile</code>",id:"41-dockerfile",level:3},{value:"4.2 <code>docker-compose.yaml</code>",id:"42-docker-composeyaml",level:3},{value:"4.3 \uc2e4\ud589",id:"43-\uc2e4\ud589",level:3}],d={toc:s};function k(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,l.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"1-mlflow-setup"},"1) MLflow Setup"),(0,i.kt)("h2",{id:"\ubaa9\ud45c"},"\ubaa9\ud45c"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"docker compose \ub97c \uc774\uc6a9\ud574 \uc2e4\uc81c \uc11c\ube44\uc2a4 \ud658\uacbd\uacfc \ube44\uc2b7\ud55c \ud615\ud0dc\ub85c mlflow \uc11c\ubc84\ub97c \ub744\uc6cc\ubd05\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ol"},"\uc11c\ube44\uc2a4 \uc0c1\ud669\uc744 \uac00\uc815\ud558\uc5ec mlflow \uc758 \uad6c\uc131 \uc694\uc18c \uac01\uac01\uc744 \uc774\ud574\ud569\ub2c8\ub2e4.")),(0,i.kt)("h2",{id:"\uc2a4\ud399-\uba85\uc138\uc11c"},"\uc2a4\ud399 \uba85\uc138\uc11c"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"MLflow \uc758 \uc6b4\uc601 \uc815\ubcf4, \ubaa8\ub378 \uacb0\uacfc \ub4f1\uc744 \uc800\uc7a5 \ud560 \ubb3c\ub9ac\uc801\uc778 \ub370\uc774\ud130\ubca0\uc774\uc2a4 Postgres \uc11c\ubc84 \uc2a4\ud399\uc744 \uc815\uc758\ud569\ub2c8\ub2e4.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"POSTGRES_USER")," : ",(0,i.kt)("inlineCode",{parentName:"li"},"myuser")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"POSTGRES_PASSWORD")," : ",(0,i.kt)("inlineCode",{parentName:"li"},"mypassword")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"POSTGRES_DB")," : ",(0,i.kt)("inlineCode",{parentName:"li"},"mydatabase")))),(0,i.kt)("li",{parentName:"ol"},"\ud559\uc2b5\ub41c \ubaa8\ub378\uc744 \uc800\uc7a5 \ud560 \ubb3c\ub9ac\uc801\uc778 \uc800\uc7a5 \uacf5\uac04\uc778 MinIO \uc2a4\ud399\uc744 \uc815\uc758 \ud569\ub2c8\ub2e4.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MINIO_ROOT_USER")," : ",(0,i.kt)("inlineCode",{parentName:"li"},"mystorage")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MINO_ROOT_PASSWORD")," : ",(0,i.kt)("inlineCode",{parentName:"li"},"mystoragepw")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Port forwarding"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"api: 9000:9000"),(0,i.kt)("li",{parentName:"ul"},"console: 9001:9001"))))),(0,i.kt)("li",{parentName:"ol"},"\ubaa8\ub378\uacfc \ubaa8\ub378\uc758 \uacb0\uacfc\ub4f1\uc758 \uc815\ubcf4\ub97c \uad00\ub9ac\ud560 MLFlow server \ub97c \uc815\uc758 \ud569\ub2c8\ub2e4.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\uc55e\uc11c \ub744\uc6cc\ub454 ",(0,i.kt)("inlineCode",{parentName:"li"},"Postgres")," , ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \ub450 \uac00\uc9c0 \uc11c\ubc84\ub97c \uc5f0\uacb0 \ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"Dockerfile",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"MLflow \uc5d0 \uad00\ub828\ub41c \ud328\ud0a4\uc9c0\uac00 \uc124\uce58\ub41c \uc774\ubbf8\uc9c0\ub97c \uc0dd\uc131\ud558\uae30\uc704\ud55c Dockerfile \uc744 \uc815\uc758\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"Artifact-store \uc778 ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \uc5d0 \ucd08\uae30 \ubc84\ucf13\uc744 \uc0dd\uc131 \ud558\uae30 \uc704\ud574 ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," Client \ub3c4 \ud568\uaed8 \uc124\uce58\ub418\ub3c4\ub85d \ud569\ub2c8\ub2e4."))),(0,i.kt)("li",{parentName:"ul"},"docker-compose",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \uc758 \uc811\uc18d \uc815\ubcf4\ub97c ",(0,i.kt)("inlineCode",{parentName:"li"},"AWS_ACCESS_KEY_ID")," , ",(0,i.kt)("inlineCode",{parentName:"li"},"AWS_SECRET_ACCESS_KEY")," \ubcc0\uc218\ub97c \ud1b5\ud574 \uc801\uc808\ud558\uac8c \uc124\uc815\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," client \ub97c \uc124\uce58\ud558\uace0, MinIO \uc758 \ucd08\uae30 \ubc84\ucf13\uc744 \uc0dd\uc131\ud558\ub3c4\ub85d command \ub97c \uc791\uc131\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"MLflow server\ub97c \ub744\uc6b0\ub294 command \ub97c \uc791\uc131\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Port forwarding")," : 5001:5000",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MLflow")," \uc5d0\uc11c\ub294 default \ub85c 5000 \ud3ec\ud2b8\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"\ud558\uc9c0\ub9cc ",(0,i.kt)("strong",{parentName:"li"},"MacOS"),' \uc758 \uacbd\uc6b0 5000\ubc88 \ud3ec\ud2b8\ub85c "AirPlay" \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\uae30 \ub54c\ubb38\uc5d0 \uc5ec\uae30\uc11c\ub294 \ubcf4\ud3b8\uc801\uc778 \uc801\uc6a9\uc744 \uc704\ud574 5001\ubc88 \ud3ec\ud2b8\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.'))))))),(0,i.kt)("li",{parentName:"ol"},"\uc815\uc758\ub41c \uc2a4\ud399\uc5d0 \ub530\ub77c ",(0,i.kt)("inlineCode",{parentName:"li"},"docker compose")," \ub97c \ud65c\uc6a9\ud574 \uc11c\ube44\uc2a4\ub97c \ub744\uc6c1\ub2c8\ub2e4.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"localhost:9001")," \uc5d0 \uc811\uc18d\ud558\uc5ec MinIO login \ud398\uc774\uc9c0\uac00 \uc798 \ub3d9\uc791\ud558\ub294\uc9c0 \ud655\uc778 \ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"localhost:5001")," \uc5d0 \uc811\uc18d\ud558\uc5ec MLflow \ud398\uc774\uc9c0\uac00 \uc798 \ub3d9\uc791\ud558\ub294\uc9c0 \ud655\uc778 \ud569\ub2c8\ub2e4.")))),(0,i.kt)("hr",null),(0,i.kt)("div",{style:{textAlign:"center"}},(0,i.kt)("p",null,(0,i.kt)("img",{alt:"MLflow setup diagram",src:n(7471).Z,width:"800",height:"688"}),(0,i.kt)("br",{parentName:"p"}),"\n","[\uadf8\ub9bc 3-2]"," MLflow setup diagram")),(0,i.kt)("h2",{id:"1-mlflow-backend-store"},"1. Mlflow Backend Store"),(0,i.kt)("h3",{id:"11-backend-store"},"1.1 Backend Store"),(0,i.kt)("p",null,"\uc218\uce58 \ub370\uc774\ud130\uc640 mlflow \uc11c\ubc84\uc758 \uc815\ubcf4\ub4e4\uc744 \uccb4\uacc4\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uae30\uc704\ud574 \ub370\uc774\ud130 \ubca0\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \uc774\ub97c ",(0,i.kt)("strong",{parentName:"p"},"Backend store")," \ub77c\uace0 \ud569\ub2c8\ub2e4. ",(0,i.kt)("strong",{parentName:"p"},"Backend store")," \uc5d0\ub294 \ubaa8\ub378\uc758 \ud559\uc2b5 \uacb0\uacfc\uc778 accuracy, f1-score \ubaa8\ub378\uc774 \ud559\uc2b5\ub418\uba74\uc11c \uc0dd\uae30\ub294 loss, \ubaa8\ub378 \uc790\uccb4\uc758 \uc815\ubcf4\uc778 hyperparmameters \ub4f1\uc758 \uc218\uce58 \ub370\uc774\ud130\ub4e4\uacfc run_id, run_name, experiment_name \ub4f1\uc758 MLflow \uc758 meta data \uac00 \uc800\uc7a5 \ub429\ub2c8\ub2e4."),(0,i.kt)("p",null,"\uc774\ubc88 \ucc55\ud130\uc5d0\uc11c\ub294 Backend Store \ub85c ",(0,i.kt)("inlineCode",{parentName:"p"},"01. Database")," \ucc55\ud130\uc5d0\uc11c \uc0ac\uc6a9\ud55c Postgres\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,i.kt)("h3",{id:"12-postgres-server-docker-compose"},"1.2 Postgres Server docker-compose"),(0,i.kt)("p",null,"Postgres\uc758 \uc2a4\ud399\uc744 ",(0,i.kt)("inlineCode",{parentName:"p"},"docker-compose")," \uc758 ",(0,i.kt)("inlineCode",{parentName:"p"},"services")," \ud0ed\uc5d0 \uc11c\ube44\uc2a4 \uc774\ub984, \uc0ac\uc6a9\uc790, \ube44\ubc00\ubc88\ud638, \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc774\ub984, \uc2dc\uac04\ub300\ub97c \ud658\uacbd\ubcc0\uc218\ub97c \uc124\uc815\ud569\ub2c8\ub2e4."),(0,i.kt)(a.Z,{mdxType:"CodeDescription"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="docker-compose.yaml"',title:'"docker-compose.yaml"'},'mlflow-backend-store:\n  image: postgres:14.0\n  container_name: mlflow-backend-store\n  environment:\n    POSTGRES_USER: mlflowuser\n    POSTGRES_PASSWORD: mlflowpassword\n    POSTGRES_DB: mlflow\n    TZ: Asia/Seoul\n  healthcheck:\n    test: ["CMD", "pg_isready", "-q", "-U", "mlflowuser", "-d", "mlflow"]\n    interval: 10s\n    timeout: 5s\n    retries: 5\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"image")," : Postgres \uc11c\ubc84\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc774\ubbf8\uc9c0\ub294 ",(0,i.kt)("inlineCode",{parentName:"li"},"postgres:14.0")," \uc785\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"environment")," :",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"POSTGRES_USER")," : postgresDB \uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud55c \uc0ac\uc6a9\uc790 \uc774\ub984\uc785\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"POSTGRES_PASSWORD")," : postgresDB \uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud55c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"POSTGRES_DB")," : postgresDB \uc5d0 \uc0dd\uc131 \ud560 \uae30\ubcf8 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc774\ub984\uc785\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"TZ")," : postgresDB \uc758 \uc2dc\uac04\ub300\ub97c \uc124\uc815\ud569\ub2c8\ub2e4."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"healthcheck")," : postgres \uc11c\ubc84\uac00 \uc798 \ub744\uc6cc\uc84c\ub294\uc9c0 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uae30 \uc704\ud574 \uc0c1\ud0dc\ub97c \uccb4\ud06c\ud558\ub294 \uad6c\ubb38\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."))),(0,i.kt)("h2",{id:"2-mlflow-artifact-store"},"2. Mlflow Artifact Store"),(0,i.kt)("h3",{id:"21-artifact-store"},"2.1 Artifact Store"),(0,i.kt)("p",null,"MLflow \uc5d0\uc11c\ub294 \ud559\uc2b5\ub41c \ubaa8\ub378\uc744 \uc800\uc7a5\ud558\ub294 Model registry \ub85c \uc774\uc6a9\ud558\uae30 \uc704\ud574 \uc2a4\ud1a0\ub9ac\uc9c0 \uc11c\ubc84\ub97c \uc0ac\uc6a9 \ud560 \uc218 \uc788\ub294\ub370 \uc774\ub97c ",(0,i.kt)("strong",{parentName:"p"},"Artifact store")," \ub77c\uace0 \ud569\ub2c8\ub2e4. ",(0,i.kt)("strong",{parentName:"p"},"Artifact Store")," \ub97c \uc774\uc6a9\ud558\uba74 \uae30\ubcf8\uc801\uc778 \ud30c\uc77c \uc2dc\uc2a4\ud15c \ubcf4\ub2e4, \uccb4\uacc4\uc801\uc73c\ub85c \uad00\ub9ac \ud560 \uc218 \uc788\uc73c\uba70 \uc678\ubd80\uc5d0 \uc788\ub294 \uc2a4\ud1a0\ub9ac\uc9c0 \uc11c\ubc84\ub3c4 \uc0ac\uc6a9 \ud560 \uc218 \uc788\ub2e4\ub294 \uc7a5\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4. "),(0,i.kt)("h3",{id:"22-why-minio"},"2.2 Why MinIO?"),(0,i.kt)("p",null,"\uc774\ubc88 \ucc55\ud130\uc5d0\uc11c\ub294 ",(0,i.kt)("strong",{parentName:"p"},"Artifact Store")," \ub85c MinIO \uc11c\ubc84\ub97c \uc0ac\uc6a9\ud558\ub294\ub370 \uadf8 \uc774\uc720\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/MinIO"},"MinIO")," \ub294 S3 \ub97c \ub300\uccb4 \ud560 \uc218 \uc788\ub294 \uc624\ud508 \uc18c\uc2a4 \uace0\uc131\ub2a5 \uac1c\uccb4 \uc2a4\ud1a0\ub9ac\uc9c0 \uc785\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"AWS S3 \uc758 API \uc640\ub3c4 \ud638\ud658\ub418\uc5b4 sdk \ub3c4 \ub3d9\uc77c\ud558\uac8c \uc0ac\uc6a9 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"MLflow \uc5d0\uc11c\ub294 AWS S3 \ub97c \ubaa8\ub378\uc744 \uc800\uc7a5\ud558\uae30 \uc704\ud55c \uc2a4\ud1a0\ub9ac\uc9c0\ub85c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uad8c\uc7a5\ud558\uace0 \uc788\uc5b4 \uc774\ub97c \ub300\uccb4\ud558\uae30 \uc704\ud574 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"\uc2e4\uc2b5\uc5d0\uc11c AWS credential \uc744 \ud1b5\ud574 MinIO \ub300\uc2e0 AWS S3 \ub97c \uc0ac\uc6a9\ud558\uc154\ub3c4 \uac19\uc740 \uacb0\uacfc\ub97c \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")),(0,i.kt)("h3",{id:"23-minio-server-docker-compose"},"2.3 MinIO Server docker-compose"),(0,i.kt)("p",null,"MinIO\uc758 \uc2a4\ud399\uc744 ",(0,i.kt)("inlineCode",{parentName:"p"},"docker-compose")," \uc758 ",(0,i.kt)("inlineCode",{parentName:"p"},"services")," \ud0ed \ubc11\uc5d0 \uc11c\ube44\uc2a4 \uc774\ub984, \uc0ac\uc6a9\uc790, \ube44\ubc00\ubc88\ud638\ub97c \ud658\uacbd\ubcc0\uc218\ub85c \uc815\uc758\ud558\uace0 host \uc640 \uc5f0\uacb0\ub418\ub294 \ud3ec\ud2b8 \ub610\ud55c \uc815\uc758\ud569\ub2c8\ub2e4."),(0,i.kt)(a.Z,{mdxType:"CodeDescription"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="docker-compose.yaml"',title:'"docker-compose.yaml"'},'mlflow-artifact-store:\n  image: minio/minio\n  container_name: mlflow-artifact-store\n  ports:\n    - 9000:9000\n    - 9001:9001\n  environment:\n    MINIO_ROOT_USER: minio\n    MINIO_ROOT_PASSWORD: miniostorage\n  command: server /data/minio --console-address :9001\n  healthcheck:\n    test: ["CMD", "curl", "-f", "http://localhost:9000/minio/health/live"]\n    interval: 30s\n    timeout: 20s\n    retries: 3\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"image")," : MinIO \uc11c\ubc84\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc774\ubbf8\uc9c0\ub294 ",(0,i.kt)("inlineCode",{parentName:"li"},"minio/minio")," \uc785\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ports")," : host \uc640 container \uc758 \ud3ec\ud2b8\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"MinIO\uc758 API \ud3ec\ud2b8\ub97c 9000\uc73c\ub85c forwarding \ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"MinIO\uc758 Console \ud3ec\ud2b8\ub97c 9001\uc73c\ub85c forwarding \ud569\ub2c8\ub2e4."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"environment")," :",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MINIO_ROOT_USER")," : MinIO \uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud55c \uc0ac\uc6a9\uc790 \uc774\ub984\uc785\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MINIO_ROOT_PASSWORD")," : MinIO \uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud55c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"command")," : MinIO \uc11c\ubc84\ub97c \uc2e4\ud589\uc2dc\ud0a4\ub294 \uba85\ub839\uc5b4\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4. ",(0,i.kt)("inlineCode",{parentName:"li"},"--console-address")," \ub97c \ud1b5\ud574 \ucee8\ud14c\uc774\ub108\uc758 9001 \ud3ec\ud2b8\ub85c MinIO \uc5d0 \uc811\uadfc \ud560 \uc218 \uc788\ub3c4\ub85d \uc8fc\uc18c\ub97c \uc5f4\uc5b4\uc90d\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"healthcheck")," : MinIO \uc11c\ubc84\uac00 \uc798 \ub744\uc6cc\uc84c\ub294\uc9c0 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uae30 \uc704\ud574 \uc0c1\ud0dc\ub97c \uccb4\ud06c\ud558\ub294 \uad6c\ubb38\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."))),(0,i.kt)("h2",{id:"3-mlflow-server"},"3. MLflow server"),(0,i.kt)("p",null,"\uc55e\uc11c \ub9cc\ub4e0 ",(0,i.kt)("strong",{parentName:"p"},"Backend-store")," \uc640 ",(0,i.kt)("strong",{parentName:"p"},"Artifact-store")," \uc5d0 \uc5f0\uacb0\ub41c ",(0,i.kt)("strong",{parentName:"p"},"MLflow-server"),"\ub97c \ub744\uc6c1\ub2c8\ub2e4.  "),(0,i.kt)("h3",{id:"31-dockerfile"},"3.1 Dockerfile"),(0,i.kt)("p",null,"MLflow \uc11c\ubc84\uc5d0 \ud544\uc694\ud55c \ud328\ud0a4\uc9c0\uac00 \uc124\uce58\ub41c \uc774\ubbf8\uc9c0\ub97c build \ud560 Dockerfile \uc744 \uc791\uc131\ud569\ub2c8\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\uc11c\ubc84\ub97c \ub744\uc6b8\ub54c, MinIO \uc5d0 \ucd08\uae30 bucket \uc744 \uc0dd\uc131\ud558\uae30 \uc704\ud574 MinIO Client \ub3c4 \ud568\uaed8 \uc124\uce58\ud569\ub2c8\ub2e4."),(0,i.kt)(a.Z,{mdxType:"CodeDescription"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-docker",metastring:'title="Dockerfile"',title:'"Dockerfile"'},"FROM amd64/python:3.9-slim\n\nRUN apt-get update && apt-get install -y \\\n    git \\\n    wget \\\n    && rm -rf /var/lib/apt/lists/*\n\nRUN pip install -U pip &&\\\n    pip install mlflow psycopg2-binary boto3\n\nRUN cd /tmp && \\\n    wget https://dl.min.io/client/mc/release/linux-amd64/mc && \\\n    chmod +x mc && \\\n    mv mc /usr/bin/mc\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"FROM amd64/python:3.9-slim")," : Base \uc774\ubbf8\uc9c0\ub97c python 3.9\uac00 \ud3ec\ud568\ub41c \uc774\ubbf8\uc9c0\ub85c \uc124\uc815\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"RUN apt-get update && apt-get install -y")," ~ : ",(0,i.kt)("inlineCode",{parentName:"li"},"git")," , ",(0,i.kt)("inlineCode",{parentName:"li"},"wget")," \uc744 \uc124\uce58\ud569\ub2c8\ub2e4. ",(0,i.kt)("inlineCode",{parentName:"li"},"git")," \uc740 mlflow server\uc758 \ub0b4\ubd80 \ub3d9\uc791\uc5d0, ",(0,i.kt)("inlineCode",{parentName:"li"},"wget")," \uc740 ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," client\ub97c \uc124\uce58\ud558\uae30 \uc704\ud574 \uc0ac\uc6a9\ub429\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"RUN pip install -U pip &&")," ~ : ",(0,i.kt)("inlineCode",{parentName:"li"},"mlflow")," \ub97c \ube44\ub86f\ud574 postgres, AWS S3 \uc5d0 \uad00\ub828\ub41c python \ud328\ud0a4\uc9c0\ub97c \uc124\uce58\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"RUN cd /tmp &&")," ~ : \uc55e\uc11c \uc124\uce58\ud55c ",(0,i.kt)("inlineCode",{parentName:"li"},"wget")," \uc744 \ud65c\uc6a9\ud558\uc5ec ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," client \ub97c \uc124\uce58\ud569\ub2c8\ub2e4."))),(0,i.kt)("h3",{id:"32-mlflow-server-docker-compose"},"3.2 MLflow Server docker-compose"),(0,i.kt)("p",null,"\uc791\uc131\ub41c ",(0,i.kt)("inlineCode",{parentName:"p"},"Dockerfile"),"\uc744 \ube4c\ub4dc\ud558\ub3c4\ub85d ",(0,i.kt)("inlineCode",{parentName:"p"},"docker-compose")," \uc758 ",(0,i.kt)("inlineCode",{parentName:"p"},"services")," \ud0ed \ubc11\uc5d0 \uc815\uc758\ud569\ub2c8\ub2e4. "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \uc5d0 \uc5f0\uacb0\ud558\uae30\uc704\ud55c \uacc4\uc815 \uc815\ubcf4\ub97c \ud658\uacbd\ubcc0\uc218\ub97c \ud65c\uc6a9\ud574 \uc124\uc815\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ol"},"\ubaa8\ub378\uc744 \uc800\uc7a5\ud560 \ub54c \uc0ac\uc6a9 \ud560 ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \ucd08\uae30 \ubc84\ucf13\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ol"},"mlflow server\ub97c \ub744\uc6b0\ub294 \uba85\ub839\uc5b4\ub97c \uc791\uc131\ud569\ub2c8\ub2e4.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"PostgresDB")," \uc5d0 \uc5f0\uacb0\ud558\uae30 \uc704\ud55c keyword argument \ub97c \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \uc5d0 \uc5f0\uacb0\ud558\uae30 \uc704\ud55c keyword argument \ub97c \ucd94\uac00\ud569\ub2c8\ub2e4.")))),(0,i.kt)(a.Z,{mdxType:"CodeDescription"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="docker-compose.yaml"',title:'"docker-compose.yaml"'},"mlflow-server:\n  build:\n    context: .\n    dockerfile: ./Dockerfile\n  container_name: mlflow-server\n  ports:\n    - 5001:5000\n  environment:\n    AWS_ACCESS_KEY_ID: minio\n    AWS_SECRET_ACCESS_KEY: miniostorage\n    MLFLOW_S3_ENDPOINT_URL: http://mlflow-artifact-store:9000\n  command:\n    - /bin/sh\n    - -c\n    - |\n      mc config host add mlflowminio http://mlflow-artifact-store:9000 minio miniostorage &&\n      mc mb --ignore-existing mlflowminio/mlflow\n      mlflow server \\\n      --backend-store-uri postgresql://mlflowuser:mlflowpassword@mlflow-backend-store/mlflow \\\n      --default-artifact-root s3://mlflow/ \\\n      --host 0.0.0.0\n  depends_on:\n    mlflow-backend-store:\n      condition: service_healthy\n    mlflow-artifact-store:\n      condition: service_healthy\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"build")," : \uc55e\uc11c \uc791\uc131\ud55c ",(0,i.kt)("inlineCode",{parentName:"li"},"Dockerfile")," \uc744 \uc0ac\uc6a9\ud558\uc5ec \uc774\ubbf8\uc9c0\ub97c \ube4c\ub4dc \ud558\uc5ec \uc0ac\uc6a9 \ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ports")," : host \uc640 container \uc758 \ud3ec\ud2b8\ub97c \uc124\uc815\ud569\ub2c8\ub2e4. ",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"5001:5000 \ud3ec\ud2b8\ub97c \uc124\uc815\ud569\ub2c8\ub2e4."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"environment"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"AWS_ACCESS_KEY_ID")," : AWS S3 \uc758 credential \uc815\ubcf4\uc785\ub2c8\ub2e4. \uc774\ubc88 \uacbd\uc6b0\uc5d0\ub294 ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \uc758 ",(0,i.kt)("inlineCode",{parentName:"li"},"MINIO_ROOT_USER")," \uc640 \ub3d9\uc77c\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"AWS_SECRET_ACCESS_KEY")," : AWS S3 \uc758 credential \uc815\ubcf4\uc785\ub2c8\ub2e4. \uc774\ubc88 \uacbd\uc6b0\uc5d0\ub294 ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \uc758 ",(0,i.kt)("inlineCode",{parentName:"li"},"MINIO_ROOT_PASSWORD")," \uc640 \ub3d9\uc77c\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MLFLOW_S3_ENDPOINT_URL")," : AWS S3 \uc758 \uc8fc\uc18c\ub97c \uc124\uc815\ud569\ub2c8\ub2e4. \uc774\ubc88 \uacbd\uc6b0\uc5d0\ub294 ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \uc758 \uc8fc\uc18c\uc640 \uac19\uc2b5\ub2c8\ub2e4."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"command")," : ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \ucd08\uae30 \ubc84\ucf13\uc744 \uc0dd\uc131 \ud558\uace0, ",(0,i.kt)("inlineCode",{parentName:"li"},"mlflow")," \uc11c\ubc84 \uc2e4\ud589 \uba85\ub839\uc5b4\ub97c \uc785\ub825\ud569\ub2c8\ub2e4.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mc config")," ~ : MinIO client \ub97c \ud65c\uc6a9\ud574 MinIO \uc11c\ubc84\uc5d0 \ud638\uc2a4\ud2b8\ub97c \ub4f1\ub85d\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mc mb")," ~ : \ub4f1\ub85d\ub41c \ud638\uc2a4\ud2b8\ub97c \ud1b5\ud574 \ucd08\uae30 \ubc84\ucf13\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"mlflow server")," : ",(0,i.kt)("inlineCode",{parentName:"li"},"mlflow")," \uc11c\ubc84\ub97c \ub3d9\uc791\uc2dc\ud0b5\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"--backend-store-uri")," \uc5d0 \uba85\uc2dc\ub41c \uc815\ubcf4\ub97c \ud1b5\ud574 ",(0,i.kt)("inlineCode",{parentName:"li"},"PostgresDB")," \uc640 \uc5f0\uacb0\ud569\ub2c8\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"--default-artifact-root")," \uc5d0 \uba85\uc2dc\ub41c \ubc84\ucf13\uc744 \ud1b5\ud574 ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \uc758 \ucd08\uae30 \ubc84\ucf13\uacfc \uc5f0\uacb0\ud569\ub2c8\ub2e4."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"depends_on")," : ",(0,i.kt)("inlineCode",{parentName:"li"},"mlflow")," \uc11c\ubc84\uac00 \ub744\uc6cc\uc9c0\uae30 \uc804\uc5d0, ",(0,i.kt)("inlineCode",{parentName:"li"},"PostgresDB")," , ",(0,i.kt)("inlineCode",{parentName:"li"},"MinIO")," \uc11c\ubc84\ub97c \uba3c\uc800 \ub744\uc6b0\ub3c4\ub85d \ud569\ub2c8\ub2e4.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"condition")," : \uc55e\uc120 2\uac00\uc9c0 \uc11c\ube44\uc2a4\uc758 \ub3d9\uc791 \uc0c1\ud0dc\uac00 \uccb4\ud06c\ub418\uba74 ",(0,i.kt)("inlineCode",{parentName:"li"},"mlflow")," \uc11c\ubc84\ub97c \ub744\uc6c1\ub2c8\ub2e4."))))),(0,i.kt)("h2",{id:"4-docker-compose\ub97c-\ud65c\uc6a9\ud574-\uc11c\ube44\uc2a4-\ub744\uc6b0\uae30"},"4. docker compose\ub97c \ud65c\uc6a9\ud574 \uc11c\ube44\uc2a4 \ub744\uc6b0\uae30"),(0,i.kt)("p",null,"\uc644\uc131\ub41c ",(0,i.kt)("inlineCode",{parentName:"p"},"Dockerfile"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"docker-compose.yaml")," \uc744 \ud655\uc778 \ud569\ub2c8\ub2e4."),(0,i.kt)("h3",{id:"41-dockerfile"},"4.1 ",(0,i.kt)("inlineCode",{parentName:"h3"},"Dockerfile")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-docker",metastring:'title="Dockerfile"',title:'"Dockerfile"'},"FROM amd64/python:3.9-slim\n\nRUN apt-get update && apt-get install -y \\\n    git \\\n    wget \\\n    && rm -rf /var/lib/apt/lists/*\n\nRUN pip install -U pip &&\\\n    pip install boto3==1.26.8 mlflow==1.30.0 psycopg2-binary\n\nRUN cd /tmp && \\\n    wget https://dl.min.io/client/mc/release/linux-amd64/mc && \\\n    chmod +x mc && \\\n    mv mc /usr/bin/mc\n")),(0,i.kt)("h3",{id:"42-docker-composeyaml"},"4.2 ",(0,i.kt)("inlineCode",{parentName:"h3"},"docker-compose.yaml")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="docker-compose.yaml"',title:'"docker-compose.yaml"'},'version: "3"\n\nservices:\n  mlflow-backend-store:\n    image: postgres:14.0\n    container_name: mlflow-backend-store\n    environment:\n      POSTGRES_USER: mlflowuser\n      POSTGRES_PASSWORD: mlflowpassword\n      POSTGRES_DB: mlflow\n      TZ: Asia/Seoul\n    healthcheck:\n      test: ["CMD", "pg_isready", "-q", "-U", "mlflowuser", "-d", "mlflow"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  mlflow-artifact-store:\n    image: minio/minio\n    container_name: mlflow-artifact-store\n    ports:\n      - 9000:9000\n      - 9001:9001\n    environment:\n      MINIO_ROOT_USER: minio\n      MINIO_ROOT_PASSWORD: miniostorage\n    command: server /data/minio --console-address :9001\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:9000/minio/health/live"]\n      interval: 30s\n      timeout: 20s\n      retries: 3\n\n  mlflow-server:\n    build:\n      context: .\n      dockerfile: ./Dockerfile\n    container_name: mlflow-server\n    ports:\n      - 5001:5000\n    environment:\n      AWS_ACCESS_KEY_ID: minio\n      AWS_SECRET_ACCESS_KEY: miniostorage\n      MLFLOW_S3_ENDPOINT_URL: http://mlflow-artifact-store:9000\n    command:\n      - /bin/sh\n      - -c\n      - |\n        mc config host add mlflowminio http://mlflow-artifact-store:9000 minio miniostorage &&\n        mc mb --ignore-existing mlflowminio/mlflow\n        mlflow server \\\n        --backend-store-uri postgresql://mlflowuser:mlflowpassword@mlflow-backend-store/mlflow \\\n        --default-artifact-root s3://mlflow/ \\\n        --host 0.0.0.0\n    depends_on:\n      mlflow-backend-store:\n        condition: service_healthy\n      mlflow-artifact-store:\n        condition: service_healthy\n')),(0,i.kt)("h3",{id:"43-\uc2e4\ud589"},"4.3 \uc2e4\ud589"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Dockerfile"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"docker-compose.yaml")," \ub450 \ud30c\uc77c\uc774 \uc788\ub294 \uacbd\ub85c\uc5d0\uc11c \uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud65c\uc6a9\ud574 \uc815\uc758\ub41c \uc11c\ube44\uc2a4\ub97c \ubc31\uadf8\ub77c\uc6b4\ub4dc \ud504\ub85c\uc138\uc2a4\ub85c \ub744\uc6c1\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# terminal-command\ndocker compose up -d\n")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"http://localhost:5001"},"localhost:5001")," \uc5d0 \uc811\uc18d\ud558\uc5ec ",(0,i.kt)("inlineCode",{parentName:"p"},"MLflow")," \uc11c\ubc84 \ub3d9\uc791\uc744 \ud655\uc778\ud569\ub2c8\ub2e4."),(0,i.kt)("div",{style:{textAlign:"center"}},(0,i.kt)("p",{parentName:"li"},"  ",(0,i.kt)("img",{alt:"MLflow ui",src:n(1671).Z,width:"2382",height:"1824"}),"\n","[\uadf8\ub9bc 3-3]"," MLflow UI"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"http://localhost:9001"},"localhost:9001")," \uc5d0 \uc811\uc18d\ud558\uc5ec ",(0,i.kt)("inlineCode",{parentName:"p"},"MinIO")," \uc11c\ubc84 \ub3d9\uc791\uc744 \ud655\uc778\ud569\ub2c8\ub2e4."),(0,i.kt)("div",{style:{textAlign:"center"}},(0,i.kt)("p",{parentName:"li"},"  ",(0,i.kt)("img",{alt:"MinIO ui",src:n(8834).Z,width:"2382",height:"1824"}),"\n","[\uadf8\ub9bc 3-4]"," MinIO Login \ud654\uba74")),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"MinIO")," \uc5d0 \ub85c\uadf8\uc778\ud560 \uc218 \uc788\ub294 \uc544\uc774\ub514\ub294 \uc704\uc5d0\uc11c \uc124\uc815\ud55c minio / miniostorage \uc785\ub2c8\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\ud574\ub2f9 \uc815\ubcf4\ub85c \ub85c\uadf8\uc778\ud558\uba74 \uc544\ub798\uc758 ","[\uadf8\ub9bc 3-5]"," \uc640 \uac19\uc740 \ud654\uba74\uc774 \ubcf4\uc785\ub2c8\ub2e4."),(0,i.kt)("div",{style:{textAlign:"center"}},(0,i.kt)("p",{parentName:"li"},"  ",(0,i.kt)("img",{alt:"MinIO ui",src:n(7730).Z,width:"3680",height:"2382"}),"\n","[\uadf8\ub9bc 3-5]"," MinIO \uc811\uc18d \ud654\uba74")))))}k.isMDXComponent=!0},7471:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/model-registry-2-42455fef39f00641a4240906a219a4e8.png"},1671:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/model-registry-3-6a1bcdf388549ef8fb1938248b00d76a.png"},8834:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/model-registry-4-e05cbfe3f7bc69843ccd88de76151206.png"},7730:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/model-registry-5-715717d952b4e23474569003c7178d34.png"}}]);